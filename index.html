<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <link rel="icon" href="logo.ico">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

  <title>Liquidación de Sueldo</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="header">

    <div class="inner-header flex">
      <img src="image.png" alt="logo" class="logo">
      <h1>Tu quincena en un click</h1>
    </div>
    <div>
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7" />
          <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
          <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
          <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
        </g>
      </svg>
    </div>
  </div>
  <div class="content flex">
    <img src="flecha.png" alt="logo" class="logo">
  </div>

  <form id="formulario-liquidacion" class="mb-3">
    <fieldset>
      <h4>A continuación digite sus horas en cada una de las categorías:</h4><br>
      <div class="form-group">
        <label for="horas-extra-diurnas-ordinarias">Digite las horas extras diurnas ordinarias trabajadas
          totales</label>
        <input type="number" class="form-control" id="horas-extra-diurnas-ordinarias" min="0" value="0">
      </div>
      <div class="form-group">
        <label for="horas-extra-nocturnas-ordinarias">Digite las horas extras nocturnas ordinarias trabajadas
          totales</label>
        <input type="number" class="form-control" id="horas-extra-nocturnas-ordinarias" min="0" value="0">
      </div>
      <div class="form-group">
        <label for="horas-recargo-nocturno-ordinario">Digite las horas de recargo nocturno ordinario trabajadas
          totales</label>
        <input type="number" class="form-control" id="horas-recargo-nocturno-ordinario" min="0" value="0">
      </div>
      <div class="form-group">
        <label for="horas-extra-diurnas-festivas">Digite las horas extras diurnas festivas trabajadas totales
          totales</label>
        <input type="number" class="form-control" id="horas-extra-diurnas-festivas" min="0" value="0">
      </div>
      <div class="form-group">
        <label for="horas-extra-nocturnas-festivas">Digite las horas extras nocturnas festivas trabajadas
          totales</label>
        <input type="number" class="form-control" id="horas-extra-nocturnas-festivas" min="0" value="0">
      </div>
      <div class="form-group">
        <label for="horas-recargo-nocturno-festivo">Digite las horas de recargo nocturno festivas trabajados
          totales</label>
        <input type="number" class="form-control" id="horas-recargo-nocturno-festivo" min="0" value="0">
      </div>
      <div class="form-group">
        <label for="dias-festivos-trabajados">Digite los días festivos trabajados totales</label>
        <input type="number" class="form-control" id="dias-festivos-trabajados" min="0" value="0">
      </div>
      <button type="button" class="btn btn-primary" id="btn-calcular">Calcular</button>
      <button type="button" class="btn btn-secondary" id="btn-limpiar">Limpiar</button>
      <div class="resultado" id="resultado"></div>
    </fieldset>
  </form>
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h3>Contacto</h3>
          <p>omaryire@hotmail.es</p>
          <p class="copyright">Desarrollado por: <span class="developer">Omar Yire Mendoza Comas</span></p>
        </div>
      </div>
    </div>
  </footer>
  <script>
    // Deshabilitar el botón limpiar al cargar la página
    document.getElementById("btn-limpiar").disabled = true;
    document.getElementById("btn-calcular").disabled = true;

    // Función para calcular el sueldo final
    function calcularSueldo() {
      // Obtener los valores de los campos del formulario
      const sueldoBase = 1160000;
      const subsidioTransporte = 70000;
      const deduccionSalud = 47218;
      const deduccionPension = 47218;
      const horasExtraDiurnasOrdinarias = document.getElementById("horas-extra-diurnas-ordinarias").value;
      const horasExtraNocturnasOrdinarias = document.getElementById("horas-extra-nocturnas-ordinarias").value;
      const horasRecargoNocturnoOrdinario = document.getElementById("horas-recargo-nocturno-ordinario").value;
      const horasExtraDiurnasFestivas = document.getElementById("horas-extra-diurnas-festivas").value;
      const horasExtraNocturnasFestivas = document.getElementById("horas-extra-nocturnas-festivas").value;
      const horasRecargoNocturnoFestivo = document.getElementById("horas-recargo-nocturno-festivo").value;
      const diasFestivosTrabajados = document.getElementById("dias-festivos-trabajados").value;
      const tarifas = [6041, 8457, 1691, 9665, 12081, 10149];

      // Calcular el total devengado
      let totalDevengado = sueldoBase / 2;
      totalDevengado += tarifas[0] * horasExtraDiurnasOrdinarias;
      totalDevengado += tarifas[1] * horasExtraNocturnasOrdinarias;
      totalDevengado += tarifas[2] * horasRecargoNocturnoOrdinario;
      totalDevengado += tarifas[3] * horasExtraDiurnasFestivas;
      totalDevengado += tarifas[4] * horasExtraNocturnasFestivas;
      totalDevengado += tarifas[5] * horasRecargoNocturnoFestivo;
      totalDevengado += 67665 * diasFestivosTrabajados;

      // Calcular el sueldo final
      const sueldo = totalDevengado - deduccionSalud - deduccionPension + subsidioTransporte;

      // Mostrar el resultado
      document.getElementById("resultado").innerHTML = `El sueldo final a recibir es: $${sueldo.toLocaleString()}`;
    }

    // Deshabilitar el botón calcular si hay algún campo vacío
    function validarFormulario() {
      const campos = document.querySelectorAll("#formulario-liquidacion .form-control");
      let formularioValido = true;
      for (let i = 0; i < campos.length; i++) {
        if (campos[i].value === "") {
          formularioValido = false;
          break;
        }
      }
      document.getElementById("btn-calcular").disabled = !formularioValido;
    }

    // Limpiar el formulario y habilitar los campos
    function limpiarFormulario() {

      const campos = document.querySelectorAll("#formulario-liquidacion .form-control");
      for (let i = 0; i < campos.length; i++) {
        campos[i].value = "0";
        campos[i].disabled = false;
      }
      document.getElementById("resultado").innerHTML = "";
      document.getElementById("btn-limpiar").disabled = true;
      document.getElementById("btn-calcular").disabled = true;
    }

    // Eventos al cargar la página
    window.addEventListener("load", () => {
      // Deshabilitar el spin de los campos de tipo number
      const campos = document.querySelectorAll("#formulario-liquidacion .form-control[type=number]");
      for (let i = 0; i < campos.length; i++) {
        campos[i].addEventListener("input", e => {
          e.target.value = parseInt(e.target.value) || "";
        });
      }

      // Validar el formulario al cambiar el valor de algún campo
      const formulario = document.getElementById("formulario-liquidacion");
      formulario.addEventListener("input", validarFormulario);

      // Calcular el sueldo al hacer clic en el botón calcular
      const btnCalcular = document.getElementById("btn-calcular");
      btnCalcular.addEventListener("click", () => {
        calcularSueldo();
        btnCalcular.disabled = true;
        document.getElementById("btn-limpiar").disabled = false;
        formulario.querySelectorAll(".form-control").forEach(campo => {
          campo.disabled = true;
        });
      });

      // Limpiar el formulario al hacer clic en el botón limpiar
      const btnLimpiar = document.getElementById("btn-limpiar");
      btnLimpiar.addEventListener("click", limpiarFormulario);
    });
  </script>

</body>

</html>